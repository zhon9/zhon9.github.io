<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>php function</title>
      <link href="/2020/06/21/php_function/"/>
      <url>/2020/06/21/php_function/</url>
      
        <content type="html"><![CDATA[<p>php function<br><a id="more"></a><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span><span class="line">12</span><span class="line">13</span><span class="line">14</span><span class="line">15</span><span class="line">16</span><span class="line">17</span><span class="line">18</span><span class="line">19</span><span class="line">20</span><span class="line">21</span><span class="line">22</span><span class="line">23</span><span class="line">24</span><span class="line">25</span><span class="line">26</span><span class="line">27</span><span class="line">28</span><span class="line">29</span><span class="line">30</span><span class="line">31</span><span class="line">32</span><span class="line">33</span><span class="line">34</span><span class="line">35</span><span class="line">36</span><span class="line">37</span><span class="line">38</span><span class="line">39</span><span class="line">40</span><span class="line">41</span><span class="line">42</span><span class="line">43</span><span class="line">44</span><span class="line">45</span><span class="line">46</span><span class="line">47</span><span class="line">48</span><span class="line">49</span><span class="line">50</span><span class="line">51</span><span class="line">52</span><span class="line">53</span><span class="line">54</span><span class="line">55</span><span class="line">56</span><span class="line">57</span><span class="line">58</span><span class="line">59</span><span class="line">60</span><span class="line">61</span><span class="line">62</span><span class="line">63</span><span class="line">64</span><span class="line">65</span><span class="line">66</span><span class="line">67</span><span class="line">68</span></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><span class="line"><span class="comment"> * 扫描文件夹并筛选</span></span><span class="line"><span class="comment"> * <span class="doctag">@param</span> $dir</span></span><span class="line"><span class="comment"> * <span class="doctag">@param</span> $filter array('file_name')</span></span><span class="line"><span class="comment"> * <span class="doctag">@param</span> $type all,dir,file</span></span><span class="line"><span class="comment"> */</span></span><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">scan</span><span class="params">($dir,$filter=array<span class="params">()</span>,$type=<span class="string">"all"</span>)</span></span>&#123;</span><span class="line">    $result=<span class="keyword">array</span>();</span><span class="line">    <span class="keyword">if</span>(is_dir($dir))&#123;</span><span class="line">        $list = scandir($dir);</span><span class="line">        <span class="keyword">foreach</span>($list <span class="keyword">as</span> $dirname)&#123;</span><span class="line">            <span class="keyword">if</span>($dirname == <span class="string">'.'</span> || $dirname == <span class="string">'..'</span> || in_array($dirname,$filter))&#123;</span><span class="line">                <span class="keyword">continue</span>;</span><span class="line">            &#125;</span><span class="line">            <span class="keyword">if</span>($type==<span class="string">"dir"</span> &amp;&amp; is_file($dir.<span class="string">'/'</span>.$dirname))&#123;</span><span class="line">                <span class="keyword">continue</span>;</span><span class="line">            &#125;</span><span class="line">            <span class="keyword">if</span>($type==<span class="string">"file"</span> &amp;&amp; is_dir($dir.<span class="string">'/'</span>.$dirname))&#123;</span><span class="line">                <span class="keyword">continue</span>;</span><span class="line">            &#125;</span><span class="line">            $result[]=$dirname;</span><span class="line">        &#125;;</span><span class="line">    &#125;</span><span class="line">    <span class="keyword">return</span> $result;</span><span class="line">&#125;</span><span class="line"></span><span class="line"><span class="comment">/**</span></span><span class="line"><span class="comment"> * 删除文件夹</span></span><span class="line"><span class="comment"> * <span class="doctag">@param</span> $dirName</span></span><span class="line"><span class="comment"> */</span></span><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeDir</span><span class="params">($dirName)</span> </span></span><span class="line"><span class="function"></span>&#123; </span><span class="line">    <span class="keyword">if</span>(! is_dir($dirName)) </span><span class="line">    &#123; </span><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>; </span><span class="line">    &#125; </span><span class="line">    $handle = @opendir($dirName); </span><span class="line">    <span class="keyword">while</span>(($file = @readdir($handle)) !== <span class="keyword">false</span>) </span><span class="line">    &#123; </span><span class="line">        <span class="keyword">if</span>($file != <span class="string">'.'</span> &amp;&amp; $file != <span class="string">'..'</span>) </span><span class="line">        &#123; </span><span class="line">            $dir = $dirName . <span class="string">'/'</span> . $file; </span><span class="line">            is_dir($dir) ? removeDir($dir) : @unlink($dir); </span><span class="line">        &#125; </span><span class="line">    &#125; </span><span class="line">    closedir($handle); </span><span class="line">      </span><span class="line">    <span class="keyword">return</span> rmdir($dirName) ; </span><span class="line">&#125;</span><span class="line"></span><span class="line"><span class="comment">/**</span></span><span class="line"><span class="comment"> * 复制文件夹</span></span><span class="line"><span class="comment"> * <span class="doctag">@param</span> $source</span></span><span class="line"><span class="comment"> * <span class="doctag">@param</span> $dest</span></span><span class="line"><span class="comment"> */</span></span><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">copyDir</span><span class="params">($source, $dest)</span></span></span><span class="line"><span class="function"></span>&#123;</span><span class="line">    <span class="keyword">if</span> (!file_exists($dest)) mkdir($dest);</span><span class="line">    $handle = opendir($source);</span><span class="line">    <span class="keyword">while</span> (($item = readdir($handle)) !== <span class="keyword">false</span>) &#123;</span><span class="line">        <span class="keyword">if</span> ($item == <span class="string">'.'</span> || $item == <span class="string">'..'</span>) <span class="keyword">continue</span>;</span><span class="line">        $_source = $source . <span class="string">'/'</span> . $item;</span><span class="line">        $_dest = $dest . <span class="string">'/'</span> . $item;</span><span class="line">        <span class="keyword">if</span> (is_file($_source)) copy($_source, $_dest);</span><span class="line">        <span class="keyword">if</span> (is_dir($_source)) copyDir($_source, $_dest);</span><span class="line">    &#125;</span><span class="line">    closedir($handle);</span><span class="line">&#125;</span></pre></td></tr></table></figure></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>shell</title>
      <link href="/2020/04/24/shell/"/>
      <url>/2020/04/24/shell/</url>
      
        <content type="html"><![CDATA[<a id="more"></a><p>ffmpeg 视频转gif<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><span class="line">start_time=18:32</span><span class="line">duration=10</span><span class="line">palette=<span class="string">"palette.png"</span></span><span class="line">filters=<span class="string">"fps=15,scale=320:-1:flags=lanczos"</span></span><span class="line"></span><span class="line">ffmpeg -v warning -ss <span class="variable">$start_time</span> -t <span class="variable">$duration</span> -i 1.mp4 -r 20 -vf <span class="string">"<span class="variable">$filters</span>,palettegen"</span> -y palette.png</span><span class="line">ffmpeg -v warning -ss <span class="variable">$start_time</span> -t <span class="variable">$duration</span> -i 1.mp4 -i palette.png -r 15 -lavfi <span class="string">"<span class="variable">$filters</span> [x]; [x][1:v] paletteuse"</span> -y 1.gif</span></pre></td></tr></table></figure></p>]]></content>
      
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微习惯</title>
      <link href="/2020/04/23/habit/"/>
      <url>/2020/04/23/habit/</url>
      
        <content type="html"><![CDATA[<p>一定要让微习惯非常具体和微小，每天做一个俯卧撑，读两页书，写50字。<br><a id="more"></a></p><h4 id="压力会促进习惯性行为，无论这种习惯是好是坏"><a href="#压力会促进习惯性行为，无论这种习惯是好是坏" class="headerlink" title="压力会促进习惯性行为，无论这种习惯是好是坏"></a>压力会促进习惯性行为，无论这种习惯是好是坏</h4><p>现在试想一下：如果坏习惯让你压力过大，你会怎么做。压力是负反馈循环系统的绝佳导火线，它会触发一个坏习惯，坏习惯又会触发内疚感、内心的焦虑和更多压力，这些消极因素会再次触发这个习惯。<br>再想想，如果习惯本身就能缓解压力会怎样？拿锻炼来说，你的压力把你拽到健身房，锻炼会帮你缓解焦虑。</p><h4 id="重复就是大脑使用的语言"><a href="#重复就是大脑使用的语言" class="headerlink" title="重复就是大脑使用的语言"></a>重复就是大脑使用的语言</h4><p>多重复几遍，就不会忘记</p><h4 id="动力-VS-意志力"><a href="#动力-VS-意志力" class="headerlink" title="动力 VS 意志力"></a>动力 VS 意志力</h4><p>当动力处于峰值时，意志力消耗量为0或可忽略不计。这是因为你无须强迫自己做你本来就愿意做的事。可是当动力降为0时，强烈的内心抵触意味着意志力消耗量会变得很高。</p><hr><h4 id="“激发动力”策略的诸多问题"><a href="#“激发动力”策略的诸多问题" class="headerlink" title="“激发动力”策略的诸多问题"></a>“激发动力”策略的诸多问题</h4><p>你偶尔能激发动力来锻炼身体或者写2000字，可是下一次就未必了。动力是一种能带来诸多好处的重要感觉，但是当它出现时，请把它看作一个额外的奖励，一件美好的事物。</p><h5 id="动力并不可靠"><a href="#动力并不可靠" class="headerlink" title="动力并不可靠"></a>动力并不可靠</h5><p>动力之所以不可靠，是因为它以人的感觉为基础。很多东西都能改变你的感觉：一次事件、血糖水平、抑郁、荷尔蒙、健康、外界刺激、信仰。</p><h5 id="你不会每次都愿意激发动力"><a href="#你不会每次都愿意激发动力" class="headerlink" title="你不会每次都愿意激发动力"></a>你不会每次都愿意激发动力</h5><p>当你累了、头疼，或者感觉自己不在状态，你也许会决定明天再做。你不愿激发动力，就不能培养习惯。</p><h5 id="热情递减法则"><a href="#热情递减法则" class="headerlink" title="热情递减法则"></a>热情递减法则</h5><p>这条法则认为，吃第五块披萨时的愉悦感会略低于吃第四块时的，吃第四块的又略低于吃第三块时的。<br>当一种行为成为一个习惯，你会变得没有刚开始时那么情绪高涨，这种行为甚至开始有些乏味无聊。</p><hr><h4 id="微习惯的意志力策略"><a href="#微习惯的意志力策略" class="headerlink" title="微习惯的意志力策略"></a>微习惯的意志力策略</h4><ul><li>我们是用动力或意志力开启新的行为。</li><li>动力不可靠，所以不能充当建立习惯的策略。</li><li>意志力可靠，但前提是你没有把它耗尽。</li><li>引起意志力损耗的5大主要因素：努力程度、感知难度、消极情绪、主观疲劳和血糖水平。</li></ul><h4 id="把微习惯融入生活"><a href="#把微习惯融入生活" class="headerlink" title="把微习惯融入生活"></a>把微习惯融入生活</h4><p>可以一次发展好几个微习惯。把微习惯看成每一天的基础———这些是你每天必须完成的事，然而总共只需花几分钟就能完成。完成以后，你想干什么都行，可以再多做点，也可以进行其他活动。</p><h4 id="抽象和具体目标与微习惯相结合"><a href="#抽象和具体目标与微习惯相结合" class="headerlink" title="抽象和具体目标与微习惯相结合"></a>抽象和具体目标与微习惯相结合</h4><p>幸福感会促使人们进行抽象思考，这有助于看清全局，但会不利于实现目标，因为实现目标需要具体思维。<br>较早的满足感或对成功较高的期待值会使我们感觉自己似乎已经成功了。</p><hr><h4 id="养成微习惯八步"><a href="#养成微习惯八步" class="headerlink" title="养成微习惯八步"></a>养成微习惯八步</h4><h5 id="选择适合的微习惯和计划"><a href="#选择适合的微习惯和计划" class="headerlink" title="选择适合的微习惯和计划"></a>选择适合的微习惯和计划</h5><p>对许多人来说，两三个微习惯是最适合的量。就算你只在一个微习惯上失败，也会有不完全成功的感觉，而完全成功的感觉对维持较高的自我效能感很重要。如果感到抵触，那就让行动变得越来越小。比如：抵触做一个俯卧撑，那就摆好俯卧撑的姿势，或者直接趴在地板上，只有遇到极端抵触情绪时，可以使用这个方法。</p><h5 id="挖掘微习惯的内在价值"><a href="#挖掘微习惯的内在价值" class="headerlink" title="挖掘微习惯的内在价值"></a>挖掘微习惯的内在价值</h5><p>列好习惯后，想想你为什么要实现它们，但不要在这一步停止。再问问为什么，不断地问下去，直到形成循环和重复为止，这时候你已经找到了核心。</p><h5 id="明确习惯依据，将其纳入日程"><a href="#明确习惯依据，将其纳入日程" class="headerlink" title="明确习惯依据，将其纳入日程"></a>明确习惯依据，将其纳入日程</h5><p>培养习惯的常见依据有两种，时间和行为方式。比如：时间依据有，每天下午三点锻炼；行为依据有，每天睡前阅读等。还有自由度非常高的非具体习惯，好习惯不应该只有一个依据。非具体微习惯要求你每天完成一次小型目标，可以是一天中的任意时间，将晚上睡觉作为一天结束的标志，带着胜利感入睡，成功者不沮丧者更努力，是因为他们已经成功了。成功能点燃热情、激发行动。</p><h5 id="建立回报机制，以奖励提升成就感"><a href="#建立回报机制，以奖励提升成就感" class="headerlink" title="建立回报机制，以奖励提升成就感"></a>建立回报机制，以奖励提升成就感</h5><p>刚开始，习惯所带来的成就感和你对最终成果的期待不能给大脑足够的回报。可以尝试在完成习惯后看搞笑视频，要强调庆祝一点一滴的成功，最终满足感和内啡肽就足以让大脑自己维持这个行为，但这需要时间。<br>如果你想更加幸福，享受成就感是让自己对生活满意的最有效策略。如果你在锻炼，可以在几周以后看着镜子，提醒自己这些进步是怎么来的。如果你在写作，要为写的满满的文档庆祝一下。展望一下即将养成的习惯，能给更多事情打好基础。快坚持不下去时，给自己一点奖励，休息一下。</p><h5 id="记录与追踪完成情况"><a href="#记录与追踪完成情况" class="headerlink" title="记录与追踪完成情况"></a>记录与追踪完成情况</h5><p>当你想到某件事时，立即把它写下来。把想法写在纸上时，会让其在大脑中更加突出，而打字就不具备同样的效应。一定要手写，才能将其重要性放大。<br>选择在晚上睡前检查自己是否成功，在白天过早检查会降低继续工作的动力，要养成睡前检查的习惯，不要忘记。把完成的记录记下来，放在明显的位置，会让你对微习惯、进度和成功更敏感。<br>而且要强调的是，微习惯是可以坚持一生的追求，而不是几个月的心血来潮的行为。无论你如何确认自己微习惯的完成情况，建议至少亲自把习惯手写在一个能看见的地方。</p><h5 id="微量开始，超额完成"><a href="#微量开始，超额完成" class="headerlink" title="微量开始，超额完成"></a>微量开始，超额完成</h5><p>在建立习惯的路上，要做三件事：强化意志力，当下就取得进步，不耗尽意志力。保证每一天能达到最低要求，超额完成的基础是这个行为习惯已经存在。</p><h5 id="服从计划安排，拜托高期待值"><a href="#服从计划安排，拜托高期待值" class="headerlink" title="服从计划安排，拜托高期待值"></a>服从计划安排，拜托高期待值</h5><p>即使你把微目标写在显眼的位置，你的目标也会“暗中膨胀”，比如一天跑10千米或一天写3000字。所以一定要提醒自己，你每天的目标没有改变。提醒自己只要愿意，完全可以继续写那么多字，但如果只写了50字，不要感到内疚或失败，50字就是成功。<br>要把期待值和精力放到坚持目标上，而不要对任务量抱有较高的期待。生活中最强大的武器就是坚持，因为这是让行为转变成习惯的唯一途径。当非习惯变成习惯，就意味着你从与大脑对抗变成与其合作。</p><h5 id="留意习惯养成的标志"><a href="#留意习惯养成的标志" class="headerlink" title="留意习惯养成的标志"></a>留意习惯养成的标志</h5><p>微习惯策略效果很好，可是在一个行为成为习惯之前就停止，继续添加下一组习惯，会有全部失败的风险。<br>习惯养成的信号有：</p><ul><li>没有抵触情绪：该习惯做起来容易，不做反而更难。</li><li>身份：你认同自己的行为习惯，可以肯定和别人说“我经常看书”或者“我是个作家”。</li><li>行动时无须考虑，不用在习惯前做出决定就能开始该行为。</li><li>不再担心是否会漏掉一天或者早早放弃，当行为变成习惯后，你知道你会一直做这件事。</li><li>常态化：习惯视非情绪化的。一旦一件事成为习惯，你不会因为在做这件事而激动。当一个行为变成一种常态，它就是习惯。</li><li>它很无聊：好的习惯并不会让人兴奋，它会让你对生活更有激情，但别指望做习惯时能感到兴奋</li></ul><p>从小事开始和消除期待值的带来的压力是微习惯成功的秘诀，所以要想着尽可能长久保持。不管什么时候，都要做好开开心心地完成微目标然后结束的准备，不要把超额完成目标，当做目标。</p><hr><h4 id="微习惯策略的八大规则"><a href="#微习惯策略的八大规则" class="headerlink" title="微习惯策略的八大规则"></a>微习惯策略的八大规则</h4><h5 id="绝不要自欺欺人"><a href="#绝不要自欺欺人" class="headerlink" title="绝不要自欺欺人"></a>绝不要自欺欺人</h5><p>比如每天做1个俯卧撑，却在内心偷偷要求自己完成不止1个俯卧撑。需要特别注意避免这么做，因为每对自己提高一点要求，就需要更多意志力才能达到要求。<br>目标很小并不是问题，你在为了成功而训练大脑，但请一定不要调高期待值，期待值低一些，你就会渴望多完成一些。</p><h5 id="满意每一个进步"><a href="#满意每一个进步" class="headerlink" title="满意每一个进步"></a>满意每一个进步</h5><blockquote><p>要满意，但别满足</p></blockquote><p>微习惯策略的核心是一个很简单的大脑错觉，同时也是一种重视开始的生活哲理。</p><h5 id="经常回报自己，尤其是在完成微习惯之后"><a href="#经常回报自己，尤其是在完成微习惯之后" class="headerlink" title="经常回报自己，尤其是在完成微习惯之后"></a>经常回报自己，尤其是在完成微习惯之后</h5><p>不管是食物、出去玩、看电影、玩游戏还是对着镜子表扬自己，记得在完成微习惯后奖励自己。</p><h5 id="保持头脑清醒"><a href="#保持头脑清醒" class="headerlink" title="保持头脑清醒"></a>保持头脑清醒</h5><p>力求维持冷静的思维模式并信任自己选择的策略。别让一时成功的兴奋成为实施行动的动力，变得依赖动力或情绪是很多人实行计划最终失败的原因。</p><h5 id="感到强烈抵触时，后退并缩小目标"><a href="#感到强烈抵触时，后退并缩小目标" class="headerlink" title="感到强烈抵触时，后退并缩小目标"></a>感到强烈抵触时，后退并缩小目标</h5><p>意志力是有限的，不要用意志力突破强烈的抵触情绪。要把任务逐渐变得越来越小，直到你的抵触感最小为止。<br>比如目标是写50个字，可以把要求缩小到写10个字，甚至是写1个字。</p><h5 id="提醒自己这件事很轻松"><a href="#提醒自己这件事很轻松" class="headerlink" title="提醒自己这件事很轻松"></a>提醒自己这件事很轻松</h5><p>不要回想自己超额完成的情况，时刻提醒自己的目的只是微习惯。忘记那些无法激发动力的经历，忘记那些要以意志力坚持的大战。兴奋是很好的，但兴奋不会帮你维持状态，能帮助你的，是你为了给自己的生活带来最大改变而每天专心做的最小的事。</p><h5 id="绝不要小看微步骤"><a href="#绝不要小看微步骤" class="headerlink" title="绝不要小看微步骤"></a>绝不要小看微步骤</h5><p>不要小看每天的小目标，每个大的目标的实现，都是之前每天小目标组成的。</p><h5 id="用多余精力超额完成任务，而不是制定更大目标"><a href="#用多余精力超额完成任务，而不是制定更大目标" class="headerlink" title="用多余精力超额完成任务，而不是制定更大目标"></a>用多余精力超额完成任务，而不是制定更大目标</h5><p>如果急于取得巨大进步，就把精力投入到超额完成任务中。</p>]]></content>
      
      
      
        <tags>
            
            <tag> books </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网站收藏</title>
      <link href="/2019/10/09/url/"/>
      <url>/2019/10/09/url/</url>
      
        <content type="html"><![CDATA[<h3 id="社区-论坛"><a href="#社区-论坛" class="headerlink" title="社区/论坛"></a>社区/论坛</h3><p>电鸭 <a href="https://eleduck.com/" target="_blank" rel="external">https://eleduck.com/</a><br>虫部落 <a href="https://www.chongbuluo.com/" target="_blank" rel="external">https://www.chongbuluo.com/</a><br>吾爱破解 <a href="https://www.52pojie.cn/" target="_blank" rel="external">https://www.52pojie.cn/</a></p><h3 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h3><p>阿里巴巴矢量图标库 <a href="https://www.iconfont.cn/" target="_blank" rel="external">https://www.iconfont.cn/</a><br>Canva在线平面设计软件 <a href="https://www.canva.cn/" target="_blank" rel="external">https://www.canva.cn/</a><br>创客贴_在线图片编辑器 <a href="https://www.chuangkit.com/" target="_blank" rel="external">https://www.chuangkit.com/</a><br>稿定设计 <a href="https://www.gaoding.com/" target="_blank" rel="external">https://www.gaoding.com/</a><br>中国传统颜色 <a href="http://zhongguose.com/" target="_blank" rel="external">http://zhongguose.com/</a><br>日本传统颜色 <a href="https://nipponcolors.com" target="_blank" rel="external">https://nipponcolors.com</a></p><h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><p>生成pronhub风格logo <a href="https://logoly.pro/" target="_blank" rel="external">https://logoly.pro/</a><br>网页视频解析下载 <a href="http://www.videofk.com/" target="_blank" rel="external">http://www.videofk.com/</a></p><h3 id="编程学习"><a href="#编程学习" class="headerlink" title="编程学习"></a>编程学习</h3><p>lintcode编程算法题 <a href="https://www.lintcode.com/" target="_blank" rel="external">https://www.lintcode.com/</a><br>leetcode编程算法题 <a href="https://leetcode-cn.com/" target="_blank" rel="external">https://leetcode-cn.com/</a><br>慕课网项目实战 <a href="https://coding.imooc.com/" target="_blank" rel="external">https://coding.imooc.com/</a><br>github热门趋势 <a href="https://github.com/trending" target="_blank" rel="external">https://github.com/trending</a></p><h3 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h3><p>英文pdf书 <a href="http://it-ebooks.info/" target="_blank" rel="external">http://it-ebooks.info/</a><br>英文有声书/分级听力 <a href="https://english-e-reader.net/" target="_blank" rel="external">https://english-e-reader.net/</a></p><h3 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h3><p>远程工作 <a href="https://yuancheng.work/" target="_blank" rel="external">https://yuancheng.work/</a><br>chrome插件|谷歌插件 <a href="https://www.extfans.com/" target="_blank" rel="external">https://www.extfans.com/</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> url </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>php debug</title>
      <link href="/2019/10/09/php-debug/"/>
      <url>/2019/10/09/php-debug/</url>
      
        <content type="html"><![CDATA[<h3 id="利用symfony-var-dumper包中的dump-函数，格式化输出变量"><a href="#利用symfony-var-dumper包中的dump-函数，格式化输出变量" class="headerlink" title="利用symfony/var-dumper包中的dump()函数，格式化输出变量"></a>利用symfony/var-dumper包中的dump()函数，格式化输出变量</h3><ol><li><p>执行 composer global require symfony/var-dumper ，全局安装var-dumper包，默认会安装到${HOME}/.config/composer目录。</p></li><li><p>在php.ini文件中加入一行:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span></pre></td><td class="code"><pre><span class="line">auto_prepend_file = $&#123;HOME&#125;/.config/composer/vendor/autoload.php</span><span class="line"><span class="comment">//auto_prepend_file可以简单地理解成：执行所有的php代码之前先include你指定的文件</span></span></pre></td></tr></table></figure></li></ol><p>从此以后，在你任意的php项目中调用dump()</p><h3 id="windows安装xdebug"><a href="#windows安装xdebug" class="headerlink" title="windows安装xdebug"></a>windows安装xdebug</h3><ol><li><p>下载 xdebug.dll，地址：<a href="https://xdebug.org/download.php" target="_blank" rel="external">https://xdebug.org/download.php</a></p></li><li><p>放到php安装目录的ext下</p></li><li><p>配置php.ini</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span><span class="line">12</span><span class="line">13</span><span class="line">14</span><span class="line">15</span></pre></td><td class="code"><pre><span class="line">extension=<span class="string">"扩展的绝对路径"</span></span><span class="line"><span class="comment">//代码跟踪日志文件位置,注意要先新建这个traces目录，并设置777</span></span><span class="line">xdebug.trace_output_dir = /tmp/traces</span><span class="line"><span class="comment">//代码跟踪日志文件名格式 </span></span><span class="line">xdebug.trace_output_name = trace.%c.%p</span><span class="line"><span class="comment">//trace中显示函数的参数值，这个很有用，待会细说</span></span><span class="line">xdebug.collect_params = <span class="number">4</span></span><span class="line">xdebug.collect_includes = On</span><span class="line">xdebug.collect_return = On</span><span class="line">xdebug.show_mem_delta = On</span><span class="line"><span class="comment">//var_display_max_depth这个参数也很有用。用来设置数组或者对象显示的最大层级。</span></span><span class="line"><span class="comment">//默认是3。参见官方文档的说明：Controls how many nested levels of array elements </span></span><span class="line"><span class="comment">//and object properties are when variables are displayed </span></span><span class="line"><span class="comment">//with either xdebug_var_dump(), xdebug.show_local_vars or through Function Traces.</span></span><span class="line">xdebug.var_display_max_depth = <span class="number">2</span></span></pre></td></tr></table></figure></li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span></pre></td><td class="code"><pre><span class="line">xdebug_start_trace();</span><span class="line"><span class="comment">/* 业务代码     */</span></span><span class="line">xdebug_stop_trace();</span></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> tool </tag>
            
            <tag> windows </tag>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>batch file</title>
      <link href="/2019/09/10/bat/"/>
      <url>/2019/09/10/bat/</url>
      
        <content type="html"><![CDATA[<h3 id="ffmpeg"><a href="#ffmpeg" class="headerlink" title="ffmpeg"></a>ffmpeg</h3><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span></pre></td><td class="code"><pre><span class="line"># 视频第一帧生成图片</span><span class="line">ffmpeg -i a.mp4 -y -f image2 -frames <span class="number">1</span> a.png</span><span class="line"># 视频第一秒生成图片</span><span class="line">ffmpeg -i a.mp4 -y -f image2 -ss <span class="number">1</span> a.png</span><span class="line"># 视频分离音频</span><span class="line">ffmpeg -i p1.mp4 -f mp3 -vn p1.mp3</span></pre></td></tr></table></figure><h3 id="rename-bat"><a href="#rename-bat" class="headerlink" title="rename.bat"></a>rename.bat</h3><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">ren</span> *.下载 *.</span></pre></td></tr></table></figure><h3 id="rename2-bat"><a href="#rename2-bat" class="headerlink" title="rename2.bat"></a>rename2.bat</h3><p>将当前目录的 aa (1).jpg 重命名 aa1.jpg<br><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span></pre></td><td class="code"><pre><span class="line">@<span class="built_in">Echo</span> Off&amp;<span class="built_in">SetLocal</span> ENABLEDELAYEDEXPANSION</span><span class="line"><span class="keyword">FOR</span> <span class="variable">%%a</span> <span class="keyword">in</span> (*) <span class="keyword">do</span> (</span><span class="line"><span class="built_in">echo</span> 正在处理 <span class="variable">%%a</span></span><span class="line"><span class="built_in">set</span> "name=<span class="variable">%%a</span>"</span><span class="line"><span class="built_in">set</span> "name=!name: (=!"</span><span class="line"><span class="built_in">set</span> "name=<span class="variable">!name:)=!</span>"</span><span class="line"><span class="built_in">ren</span> "<span class="variable">%%a</span>" "<span class="variable">!name!</span>"</span><span class="line">)</span></pre></td></tr></table></figure></p><h3 id="heiping-bat"><a href="#heiping-bat" class="headerlink" title="heiping.bat"></a>heiping.bat</h3><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">start</span> C:\Windows\System32\scrnsave.scr /s</span></pre></td></tr></table></figure><h3 id="tree-bat"><a href="#tree-bat" class="headerlink" title="tree.bat"></a>tree.bat</h3><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">dir</span> /o:-d 文件夹/b&gt;list.txt</span></pre></td></tr></table></figure><h3 id="youtube-dl-bat"><a href="#youtube-dl-bat" class="headerlink" title="youtube-dl.bat"></a>youtube-dl.bat</h3><p>youtube-dl<br><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><span class="line">:download</span><span class="line"><span class="built_in">set</span> /p input=input video link:</span><span class="line"><span class="built_in">set</span> input=<span class="variable">%input:&amp;=^^^&amp;%</span></span><span class="line">youtube-dl --proxy socks5://<span class="number">127</span>.<span class="number">0</span>.<span class="number">0</span>.<span class="number">1</span>:<span class="number">10808</span> -f bestvideo[ext=mp4]+bestaudio[ext=m4a]/bestvideo+bestaudio --merge-output-<span class="built_in">format</span> mp4 <span class="variable">%input%</span></span><span class="line"><span class="keyword">goto</span> :download</span></pre></td></tr></table></figure></p><h3 id="pdf-转-epub"><a href="#pdf-转-epub" class="headerlink" title="pdf 转 epub"></a>pdf 转 epub</h3><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">docker run -ti --rm -v /share:/temp dodeeric/pdf2epubex pdf2epubEX <span class="number">1</span>.pdf</span></pre></td></tr></table></figure><h3 id="testping-bat"><a href="#testping-bat" class="headerlink" title="testping.bat"></a>testping.bat</h3><p>来网通知<br><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span></pre></td><td class="code"><pre><span class="line">@<span class="built_in">setlocal</span> enableextensions enabledelayedexpansion</span><span class="line">@<span class="built_in">echo</span> off</span><span class="line"><span class="built_in">set</span> ipaddr=www.baidu.com</span><span class="line"><span class="built_in">set</span> oldstate=neither</span><span class="line">:loop</span><span class="line"><span class="built_in">ping</span> -n <span class="number">1</span> <span class="variable">!ipaddr!</span> &gt;<span class="built_in">nul</span>: <span class="number">2</span>&gt;<span class="built_in">nul</span>:</span><span class="line"><span class="keyword">if</span> <span class="variable">!errorlevel!</span>==<span class="number">0</span> <span class="built_in">start</span> wmplayer e:\system.wav</span><span class="line">timeout <span class="number">2</span></span><span class="line"><span class="keyword">goto</span> :loop</span><span class="line"><span class="built_in">endlocal</span></span></pre></td></tr></table></figure></p><h3 id="testping2-bat"><a href="#testping2-bat" class="headerlink" title="testping2.bat"></a>testping2.bat</h3><p>网络状态改变通知<br><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span><span class="line">12</span><span class="line">13</span><span class="line">14</span><span class="line">15</span><span class="line">16</span></pre></td><td class="code"><pre><span class="line">@<span class="built_in">setlocal</span> enableextensions enabledelayedexpansion</span><span class="line">@<span class="built_in">echo</span> off</span><span class="line"><span class="built_in">set</span> ipaddr=www.baidu.com</span><span class="line"><span class="built_in">set</span> oldstate=neither</span><span class="line">:loop</span><span class="line"><span class="built_in">set</span> state=up</span><span class="line"><span class="built_in">ping</span> -n <span class="number">1</span> <span class="variable">!ipaddr!</span> &gt;<span class="built_in">nul</span>: <span class="number">2</span>&gt;<span class="built_in">nul</span>:</span><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="variable">!errorlevel!</span>==<span class="number">0</span> <span class="built_in">set</span> state=down</span><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="variable">!state!</span>==<span class="variable">!oldstate!</span> (</span><span class="line">    <span class="built_in">echo</span>.Link is <span class="variable">!state!</span></span><span class="line">    <span class="built_in">start</span> wmplayer e:\system.wav</span><span class="line">    <span class="built_in">set</span> oldstate=<span class="variable">!state!</span></span><span class="line">)</span><span class="line"><span class="built_in">ping</span> -n <span class="number">2</span> <span class="number">127</span>.<span class="number">1</span> &gt;<span class="built_in">nul</span>: <span class="number">2</span>&gt;<span class="built_in">nul</span>:</span><span class="line"><span class="keyword">goto</span> :loop</span><span class="line"><span class="built_in">endlocal</span></span></pre></td></tr></table></figure></p>]]></content>
      
      
      
        <tags>
            
            <tag> bat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysql note</title>
      <link href="/2019/09/10/mysql-note/"/>
      <url>/2019/09/10/mysql-note/</url>
      
        <content type="html"><![CDATA[<h3 id="备份全部数据库"><a href="#备份全部数据库" class="headerlink" title="备份全部数据库"></a>备份全部数据库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -p --all-databases &gt; sqlfile.sql</span><span class="line"><span class="built_in">source</span> d:\sqlfile.sql;// 导入</span></pre></td></tr></table></figure><h3 id="删除table的主键字段，重新添加主键，让自增id重新排序"><a href="#删除table的主键字段，重新添加主键，让自增id重新排序" class="headerlink" title="删除table的主键字段，重新添加主键，让自增id重新排序"></a>删除table的主键字段，重新添加主键，让自增id重新排序</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> dk_wbacategory <span class="keyword">drop</span> <span class="keyword">column</span> cate_id;</span><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> dk_wbacategory <span class="keyword">add</span> cate_id <span class="built_in">int</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="literal">null</span> primary <span class="keyword">key</span> auto_increment <span class="keyword">first</span>;</span></pre></td></tr></table></figure><h3 id="复制记录"><a href="#复制记录" class="headerlink" title="复制记录"></a>复制记录</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dk_wbarticle <span class="keyword">select</span> * <span class="keyword">from</span> dk_wbarticle <span class="keyword">where</span> <span class="keyword">id</span>=<span class="number">55</span></span></pre></td></tr></table></figure><h3 id="explain语句，分析查询结果"><a href="#explain语句，分析查询结果" class="headerlink" title="explain语句，分析查询结果"></a>explain语句，分析查询结果</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span><span class="line">12</span><span class="line">13</span><span class="line">14</span><span class="line">15</span><span class="line">16</span><span class="line">17</span><span class="line">18</span><span class="line">19</span><span class="line">20</span></pre></td><td class="code"><pre><span class="line">explain + select 语句</span><span class="line"></span><span class="line">+----+-------------+-----------+-------+---------------+---------+---------+-------+</span><span class="line">| id | select_type | table | <span class="built_in">type</span> | possible_keys | key | key_len | ref | rows | Extra |</span><span class="line">+----+-------------+-----------+-------+---------------+---------+---------+-------+</span><span class="line">| 1 | SIMPLE | ecs_goods | const | PRIMARY | PRIMARY | 3 | const | 1 | |</span><span class="line">+----+-------------+-----------+-------+---------------+---------+---------+-------+</span><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.02 sec)</span><span class="line"></span><span class="line">- select_type：select查询的类型，主要是区别普通查询和联合查询、子查询之类的复杂查询。</span><span class="line">- <span class="built_in">type</span>：<span class="built_in">type</span>显示的是访问类型，是较为重要的一个指标，结果值从好到坏依次是：system &gt; const &gt; eq_ref &gt; ref &gt; fulltext &gt; ref_or_null &gt; index_merge &gt; unique_subquery &gt; index_subquery &gt; range &gt; index &gt; ALL</span><span class="line">一般来说，得保证查询至少达到range级别，最好能达到ref。</span><span class="line">- possible_keys：指出MySQL能使用哪个索引在该表中找到行。如果是空的，没有相关的索引。这时要提高性能，可通过检验WHERE子句，看是否引用某些字段，或者检查字段不是适合索引。</span><span class="line">- key：显示MySQL实际决定使用的键。如果没有索引被选择，键是NULL。</span><span class="line">- key_len：显示MySQL决定使用的键长度。如果键是NULL，长度就是NULL。文档提示特别注意这个值可以得出一个多重主键里mysql实际使用了哪一部分。</span><span class="line">- ref：显示哪个字段或常数与key一起被使用。</span><span class="line">- Extra：如果是Only index，这意味着信息只用索引树中的信息检索出的，这比扫描整个表要快。</span><span class="line">如果是<span class="built_in">where</span> used，就是使用上了<span class="built_in">where</span>限制。</span><span class="line">如果是impossible <span class="built_in">where</span> 表示用不着<span class="built_in">where</span>，一般就是没查出来啥。</span><span class="line">如果此信息显示Using filesort或者Using temporary的话会很吃力，WHERE和ORDER BY的索引经常无法兼顾，如果按照WHERE来确定索引，那么在ORDER BY时，就必然会引起Using filesort，这就要看是先过滤再排序划算，还是先排序再过滤划算.</span></pre></td></tr></table></figure><h3 id="分析mysql语句性能"><a href="#分析mysql语句性能" class="headerlink" title="分析mysql语句性能"></a>分析mysql语句性能</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> profiling=<span class="number">1</span>;// 开启功能</span><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">table</span>; </span><span class="line"><span class="keyword">show</span> <span class="keyword">profiles</span>; </span><span class="line"><span class="keyword">show</span> profile <span class="keyword">for</span> <span class="keyword">query</span> n;     // n对应<span class="keyword">SHOW</span> <span class="keyword">PROFILES</span>输出中的Query_ID</span></pre></td></tr></table></figure><h3 id="查看数据库大小"><a href="#查看数据库大小" class="headerlink" title="查看数据库大小"></a>查看数据库大小</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">concat</span>((<span class="keyword">sum</span>(data_length)+<span class="keyword">sum</span>(index_length))/<span class="number">1024</span>/<span class="number">1024</span>,<span class="string">'m'</span>) <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema=<span class="string">'数据库名'</span>;</span></pre></td></tr></table></figure><h3 id="查看数据库各个表的大小"><a href="#查看数据库各个表的大小" class="headerlink" title="查看数据库各个表的大小"></a>查看数据库各个表的大小</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> table_name,<span class="keyword">concat</span>((data_length+index_length)/<span class="number">1024</span>/<span class="number">1024</span>,<span class="string">'m'</span>) daxiao,table_rows <span class="keyword">as</span> <span class="keyword">rows</span> <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema=<span class="string">'数据库名'</span> <span class="keyword">order</span> <span class="keyword">by</span> daxiao <span class="keyword">desc</span>,<span class="keyword">rows</span> <span class="keyword">desc</span>;</span></pre></td></tr></table></figure><h3 id="批量修改数据表前缀"><a href="#批量修改数据表前缀" class="headerlink" title="批量修改数据表前缀"></a>批量修改数据表前缀</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CONCAT</span>(<span class="string">'ALTER TABLE '</span>,table_name,<span class="string">' RENAME TO pt_'</span>,<span class="keyword">substring</span>(table_name, <span class="number">4</span>),<span class="string">';'</span>) <span class="keyword">FROM</span> information_schema. <span class="keyword">TABLES</span> <span class="keyword">WHERE</span> table_name <span class="keyword">LIKE</span> <span class="string">'li%'</span>;</span></pre></td></tr></table></figure><h3 id="mysql-search-duplicate-rows"><a href="#mysql-search-duplicate-rows" class="headerlink" title="mysql search duplicate rows"></a>mysql search duplicate rows</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> email, <span class="keyword">COUNT</span>(email) <span class="keyword">FROM</span> contacts <span class="keyword">GROUP</span> <span class="keyword">BY</span> email <span class="keyword">HAVING</span> <span class="keyword">COUNT</span>(email) &gt; <span class="number">1</span>;</span></pre></td></tr></table></figure><h3 id="mysql-delete-duplicate-rows"><a href="#mysql-delete-duplicate-rows" class="headerlink" title="mysql delete duplicate rows"></a>mysql delete duplicate rows</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> t1 <span class="keyword">FROM</span> contacts t1 <span class="keyword">INNER</span> <span class="keyword">JOIN</span> contacts t2 <span class="keyword">WHERE</span> t1.id &lt; t2.id <span class="keyword">AND</span> t1.email = t2.email;</span></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo note</title>
      <link href="/2019/09/10/hexo-note/"/>
      <url>/2019/09/10/hexo-note/</url>
      
        <content type="html"><![CDATA[<h3 id="下载nodejs后"><a href="#下载nodejs后" class="headerlink" title="下载nodejs后"></a>下载nodejs后</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><span class="line">cnpm install -g hexo-cli</span></pre></td></tr></table></figure><h3 id="下载项目文件"><a href="#下载项目文件" class="headerlink" title="下载项目文件"></a>下载项目文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span></pre></td><td class="code"><pre><span class="line">// 配置ssh-key</span><span class="line">ssh-keygen -t rsa -C <span class="string">"your e-mail"</span></span><span class="line"></span><span class="line">git <span class="built_in">clone</span> -b hexo git@github.com:zhon9/zhon9.github.io.git</span></pre></td></tr></table></figure><h3 id="hexo命令"><a href="#hexo命令" class="headerlink" title="hexo命令"></a>hexo命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span></pre></td><td class="code"><pre><span class="line">// 写作 </span><span class="line">hexo new post &lt;title&gt;</span><span class="line"></span><span class="line">// 生成并部署</span><span class="line">hexo g -d</span></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>english</title>
      <link href="/2019/08/29/english/"/>
      <url>/2019/08/29/english/</url>
      
        <content type="html"><![CDATA[<h5 id="学习步骤"><a href="#学习步骤" class="headerlink" title="学习步骤"></a>学习步骤</h5><ol><li>看单词的英语解释</li><li>多看例句体会意思</li><li>选择常用的简单句</li><li>看句子—想场景   阅读 勿读</li><li>表达欲—打出字   打字</li><li>听句子—想场景   听力</li><li>表达欲—说句子   口语</li><li>改单词—再重复</li></ol><h5 id="注意要点"><a href="#注意要点" class="headerlink" title="注意要点"></a>注意要点</h5><ol><li>不要依靠意识，不能想中文</li><li>以句子为单位</li><li>多例子学习</li><li>输出始终一致</li></ol><p>critical    adj. 有判断力的；批判性的   -al 形容词词缀</p><ol><li>Critical reading applies to non-fiction writing.</li><li>My decision is critical to my future.</li><li>The first 24 hours after the operation are the most critical.</li></ol><p>critic    n. 批评家，评论家；爱挑剔的人</p><ol><li>Mather was a film critic for many years.</li><li>The newspaper has been one of the most consistent critics ever of the government.</li></ol><p>criticize    v. 批评;批判;挑剔;指责;评论;评价    -ize 动词词缀</p><ol><li>All you ever do is criticize!</li><li>We have to be careful how we criticize people.</li><li>His mother had rarely criticized him or any of her other children.</li><li>His father criticized him because he failed the exam.</li></ol><p>criticism    n.批评;批判;责备;指责;(尤指对书、音乐等的)评论文章，评论    -ism 名词词缀</p><ol><li>I hit back at her criticism.</li><li>Ben is very sensitive, he just can’t take criticism .</li></ol><p>apply to    适用于;运用;涂抹，贴</p><ol><li>What I have said apply to only some of you.</li><li>What makes you apply to our company?</li><li>The same trick doesn’t apply to another girl.</li></ol><p>apply (for sth.)    申请（工作、学校等）</p><ol><li>She applied for a job with a local newpaper.</li></ol><p>apply (sth. to sth.)    使用</p><ol><li>Try to solve the math problems by applying the methods that we learned in class.</li><li>They apply what they learned in school to their everyday lives.</li></ol><p>evaluate    v. 评估</p><ol><li>How do you evaluate yourself? </li><li>The market situation is difficult to evaluate.</li></ol><p>evaluation    n. 评估    -ion 名词词缀</p><p>take sth. into account    考虑到    = consider = take sth. into consideration</p><ol><li>You need to take this possible bias into account when reading what the author has written.</li><li>I hope my teacher will take into account the fact that I was ill just before the exams when she marks my paper.</li></ol><p>represent    v. 描述，表现    re- 前缀</p><ol><li>The picture represent a hunting scene.</li><li>What can represent love?</li><li>Nothing can represent my heart.</li></ol><p>present    v. 呈现 [prɪˈzent]     adj. 在场的 [ˈpreznt]   n. 礼物 [ˈpreznt]</p><p>assertion    n. 断言    -ion 名词词缀</p><ol><li>I certainly don’t agree with his assertion that men are better drivers than women.</li><li>I can assertion that is fake.</li></ol><p>assert    v. 断言</p><ol><li>Chinese cooking, she asserted, is the best in the world.</li></ol><p>authority    n. 专家，学术权威</p><ol><li>You have the authority to do that?</li><li>I have to report this to the authorities.</li></ol><p>author    n. 作者</p><p>consistent    adj. 相符的    be consistent with sth.</p><ol><li>The witness’s description of the accident was consistent with the truth.</li><li>Our findings are consistent with those of others.</li></ol><p>inconsistent    adj. 不相符的    in- 前缀，否定</p><ol><li>The witnesses’ statements were inconsistent.</li></ol><p>inconsistency    n. 不一致    -cy 名词词缀</p><ol><li>His worst fault was his inconsistency.</li></ol><p>state    v. 声明，规定  ； n. 状态</p><ol><li>She bought it last year in the States.</li><li>She was in a state of shock .</li><li>You’re not in a fit state to drive.</li><li>The facts are clearly stated in the report.</li><li>State clearly how many tickets you require.</li><li>You must arrive at the time stated.</li></ol><p>statement    n. 声明，说法     </p><ol><li>Are the following statements true or false?</li><li>I confirm the above statement.</li></ol><p>make a statement    发表声明</p><p>reflect   v. 反映；表明    re- 前缀</p><ol><li>His face was reflected in the mirror.</li><li>Where you learned a language is reflected in your accent.</li><li>We should all give ourselves time to reflect.</li></ol><p>reflection    n. 反射；映像    -ion 名词词缀</p><ol><li>Your clothes are often a reflection of your personality.</li><li>He admired his reflection in the mirror.</li><li>After days of reflection she decided to write back.</li></ol><p>a grain of salt    </p><ol><li>You must take all he says with a grain of salt.</li><li>You can’t take it with a grain of salt.</li></ol><p>confidence    n. 自信</p><ol><li>I don’t lack confidence.</li><li>I have confidence in learn English well.</li><li>I felt I was doing well and my confidence began to grow.</li><li>They have confidence in me.</li></ol><p>confident    adj. 自信</p><ol><li>Do you say “I’ll try to be more confident”?</li><li>I feel much more confident about myself and my abilities these day.</li><li>I’m confident that I can learn English well.</li></ol><p>imagine    v. 想象</p><ol><li>Imagine me without you,I’d be lost and so confused.</li><li>He could not imagine a more peaceful scene.</li><li>Imagine yourself as you would like to be.</li></ol><p>image    n.图像</p><p>imagination    n. 想象</p><ol><li>With a little imagination you can greatly motivate yourself in English study.</li></ol><p>imaginary    adj. 想象中的</p><ol><li>I have lots of imaginary friends.</li></ol><p>impact    n.巨大影响</p><ol><li>It is a small word yet it has an amazing impact upon us.</li><li>That matter has big impact on me.</li><li>Her speech made a profound impact on everyone.</li></ol><p>matter    v.事关紧要    n.事情，问题</p><ol><li>It mattered a great deal to her what other people thought of her.</li><li>It doesn’t matter what you wear, as long as you look neat and tidy.</li><li>We have several important matters to deal with.</li></ol><p>sense    n.感觉，意识<br>the five sense    smell    touch    taste    see    hear</p><ol><li>It gives you a sense of determination.</li><li>Dogs have a keen sense of smell.</li></ol><p>eliminate    v.清楚</p><ol><li>Eliminate the word try from your dictionary.</li><li>The credit card eliminates the need for cash.</li></ol><p>elimination    n.清除</p><p>creativity     n.创造力</p><p>create    v.创造</p><p>creative    adj.有创造力的</p><ol><li>We need creative thinking to solve the Candle Problem.</li></ol><p>creator    n.创造者</p><p>alternative    n.可供选择的事物</p><ol><li>We had no alternative but to fire he.</li><li>Have you got an alternative suggestion?</li><li>Do we have an alternative but to work hard on our English?</li></ol><p>alter    v.改变</p><ol><li>He had altered so much I scarcely recognized him.</li><li>If something alters or if you alter it, it changes.</li><li>Little had altered in my home.</li></ol><p>alternate     v.交替</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>sublime note</title>
      <link href="/2018/11/06/sublime/"/>
      <url>/2018/11/06/sublime/</url>
      
        <content type="html"><![CDATA[<h3 id="Shortcut"><a href="#Shortcut" class="headerlink" title="Shortcut"></a>Shortcut</h3><ol><li>搜索文件：ctrl+p 输入文件名</li><li>搜索函数/方法：ctrl+p 输入<code>“文件名@方法名”</code> 如 User@show</li><li>跳转到指定行：ctrl+p 输入<code>文件名:行号</code>,只输入: 时在当前文件跳转</li><li>查找当前文件方法：ctrl+r</li><li>返回/前进编辑位置：Alt + -、Alt + Shift + -</li><li>切换标签页：Ctrl + PgUp、Ctrl + PgDn</li><li>选中单词：Ctrl + D 连续按会选中页面中所有单词，以实现批量编辑</li><li>以单词为单位快速移动光标：Ctrl + ←、Ctrl + →</li><li>选中当前行：Ctrl + L</li><li>跳转到第几行：Ctrl+G</li><li>跳转到对应括号：Ctrl+M</li><li>开关侧栏：Ctrl+K+B</li><li>选中当前括号内容，重复可选着括号本身：Ctrl+Shift+M</li><li>注释当前html标签块：Ctrl+Shift+/</li><li>专注编写模式：Shift+F11</li><li>分屏显示：Alt+Shift+数字</li><li>Ctrl+Enter 在下一行插入新行。举个栗子：即使光标不在行尾，也能快速向下插入一行。</li><li>Ctrl+Shift+Enter 在上一行插入新行。举个栗子：即使光标不在行首，也能快速向上插入一行。</li><li>Ctrl+Shift+[ 选中代码，按下快捷键，折叠代码。</li><li>Ctrl+Shift+] 选中代码，按下快捷键，展开代码。</li></ol><hr><h3 id="Plugins"><a href="#Plugins" class="headerlink" title="Plugins"></a>Plugins</h3><ul><li><p>Package Control<br>A full-featured package manager</p></li><li><p>A File Icon<br>Sublime Text File-Specific Icons for Improved Visual Grepping</p></li><li>Material Theme<br>Material Theme, the most epic theme for Sublime Text 3 by Mattia Astorino<br>-Package​Resource​Viewer<br>Sublime Text plugin to view package resources.</li><li>Compare Side-By-Side<br>This package adds a simple side-by-side comparison tool to Sublime Text 2 and 3.</li><li>Git<br>Plugin for some git integration into sublime text</li><li><p>GitGutter<br>A Sublime Text 2/3 plugin to see git diff in gutter</p></li><li><p>BracketHighlighter<br>Bracket and tag highlighter for Sublime Text</p></li><li>Emmet<br>Emmet for Sublime Text</li><li><p>HTML-CSS-JS Prettify<br>HTML, CSS, JavaScript, JSON, React/JSX and Vue code formatter for Sublime Text 2 and 3 via node.js</p></li><li><p>SublimeLinter</p></li><li>SublimeLinter-php<br>This linter plugin for SublimeLinter provides an interface to php -l. It will be used with files that have the “PHP”, “HTML”, or “HTML 5” syntax.</li><li><p>phpfmt<br>This is a stable snapshot (version 6125cf9) of the phpfmt plugin for Sublime Text</p></li><li><p>SublimeCodeIntel<br>Full-featured code intelligence and smart autocomplete engine</p></li><li>SublimeREPL<br>SublimeREPL - run an interpreter inside ST2 (Clojure, CoffeeScript, F#, Groovy, Haskell, Lua, MozRepl, NodeJS, Python + virtualenv, R, Ruby, Scala…)</li><li>ConvertToUTF8<br>A Sublime Text 2 &amp; 3 plugin for editing and saving files encoded in GBK, BIG5, EUC-KR, EUC-JP, Shift_JIS, etc.</li><li>Laravel 5 Artisan<br>Laravel 5 Artisan Commands for Sublime Text 3</li><li>Babel<br>Syntax definitions for ES6 JavaScript with React JSX extensions.</li><li>Auto​File​Name<br>Sublime Text plugin that autocompletes filenames</li></ul><hr><h3 id="Setting"><a href="#Setting" class="headerlink" title="Setting"></a>Setting</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span><span class="line">12</span><span class="line">13</span><span class="line">14</span><span class="line">15</span><span class="line">16</span><span class="line">17</span><span class="line">18</span><span class="line">19</span><span class="line">20</span><span class="line">21</span><span class="line">22</span><span class="line">23</span><span class="line">24</span><span class="line">25</span><span class="line">26</span><span class="line">27</span></pre></td><td class="code"><pre><span class="line">&#123;</span><span class="line"><span class="attr">"font_size"</span>: <span class="number">13</span>,</span><span class="line"><span class="attr">"ignored_packages"</span>:</span><span class="line">[</span><span class="line"><span class="string">"Vintage"</span></span><span class="line">],</span><span class="line">    <span class="attr">"save_on_focus_lost"</span>: <span class="literal">true</span>,</span><span class="line"><span class="attr">"theme"</span>: <span class="string">"Material-Theme-Darker.sublime-theme"</span>,</span><span class="line"><span class="attr">"word_wrap"</span>: <span class="literal">true</span>,</span><span class="line">    </span><span class="line">    // material theme</span><span class="line">    "font_options":["gray_antialias", "subpixel_antialias"],</span><span class="line">    "always_show_minimap_viewport": true,</span><span class="line">    "bold_folder_labels": true,</span><span class="line">    "indent_guide_options":</span><span class="line">    [</span><span class="line">        <span class="string">"draw_normal"</span>,</span><span class="line">        <span class="string">"draw_active"</span></span><span class="line">    ],</span><span class="line">    "line_padding_bottom": 3,</span><span class="line">    "line_padding_top": 3,</span><span class="line">    "material_theme_accent_red": true,</span><span class="line">    "material_theme_big_fileicons": true,</span><span class="line">    "material_theme_disable_folder_animation": true,</span><span class="line">    "material_theme_disable_tree_indicator": true,</span><span class="line">    "overlay_scroll_bars": "enabled",</span><span class="line">&#125;</span></pre></td></tr></table></figure><h3 id="Key-Bingdings"><a href="#Key-Bingdings" class="headerlink" title="Key Bingdings"></a>Key Bingdings</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span><span class="line">12</span><span class="line">13</span><span class="line">14</span><span class="line">15</span><span class="line">16</span><span class="line">17</span><span class="line">18</span><span class="line">19</span><span class="line">20</span><span class="line">21</span><span class="line">22</span><span class="line">23</span><span class="line">24</span><span class="line">25</span><span class="line">26</span><span class="line">27</span><span class="line">28</span><span class="line">29</span><span class="line">30</span><span class="line">31</span><span class="line">32</span><span class="line">33</span><span class="line">34</span><span class="line">35</span><span class="line">36</span><span class="line">37</span><span class="line">38</span><span class="line">39</span><span class="line">40</span><span class="line">41</span><span class="line">42</span><span class="line">43</span><span class="line">44</span><span class="line">45</span><span class="line">46</span><span class="line">47</span><span class="line">48</span><span class="line">49</span><span class="line">50</span><span class="line">51</span><span class="line">52</span><span class="line">53</span><span class="line">54</span><span class="line">55</span><span class="line">56</span><span class="line">57</span><span class="line">58</span><span class="line">59</span></pre></td><td class="code"><pre><span class="line">[</span><span class="line">//格式化代码,single_line参数删除时，格式化只影响当前光标所在行</span><span class="line">&#123;<span class="attr">"keys"</span>: [<span class="string">"ctrl+alt+l"</span>], <span class="attr">"command"</span>: <span class="string">"reindent"</span> ,<span class="attr">"args"</span>: &#123;<span class="attr">"single_line"</span>: <span class="literal">false</span>&#125;&#125;,</span><span class="line">    </span><span class="line">//emmet</span><span class="line">&#123;</span><span class="line">    <span class="attr">"keys"</span>: [<span class="string">"tab"</span>],</span><span class="line">    <span class="attr">"command"</span>: <span class="string">"expand_abbreviation_by_tab"</span>,</span><span class="line"></span><span class="line">    // put comma-separated syntax selectors for which </span><span class="line">    // you want to expandEmmet abbreviations into "operand" key </span><span class="line">    // instead of SCOPE_SELECTOR.</span><span class="line">    // Examples: source.js, text.html - source</span><span class="line">    "context": [&#123;</span><span class="line">            "operand": "source.js",</span><span class="line">            "operator": "equal",</span><span class="line">            "match_all": true,</span><span class="line">            "key": "selector"</span><span class="line">        &#125;,</span><span class="line"></span><span class="line">        // run only if there's no selected text</span><span class="line">        &#123;</span><span class="line">            <span class="attr">"match_all"</span>: <span class="literal">true</span>,</span><span class="line">            <span class="attr">"key"</span>: <span class="string">"selection_empty"</span></span><span class="line">        &#125;,</span><span class="line"></span><span class="line">        // don't work if there are active tabstops</span><span class="line">        &#123;</span><span class="line">            <span class="attr">"operator"</span>: <span class="string">"equal"</span>,</span><span class="line">            <span class="attr">"operand"</span>: <span class="literal">false</span>,</span><span class="line">            <span class="attr">"match_all"</span>: <span class="literal">true</span>,</span><span class="line">            <span class="attr">"key"</span>: <span class="string">"has_next_field"</span></span><span class="line">        &#125;,</span><span class="line"></span><span class="line">        // don't work if completion popup is visible and you</span><span class="line">        // want to insert completion with Tab. If you want to</span><span class="line">        // expand Emmet with Tab even if popup is visible -- </span><span class="line">        // remove this section</span><span class="line">        &#123;</span><span class="line">            <span class="attr">"operand"</span>: <span class="literal">false</span>,</span><span class="line">            <span class="attr">"operator"</span>: <span class="string">"equal"</span>,</span><span class="line">            <span class="attr">"match_all"</span>: <span class="literal">true</span>,</span><span class="line">            <span class="attr">"key"</span>: <span class="string">"auto_complete_visible"</span></span><span class="line">        &#125;, &#123;</span><span class="line">            "match_all": true,</span><span class="line">            "key": "is_abbreviation"</span><span class="line">        &#125;</span><span class="line">    ]</span><span class="line">&#125;,</span><span class="line"></span><span class="line">    //sublimerepl</span><span class="line">    &#123; <span class="attr">"keys"</span>: [<span class="string">"f5"</span>], <span class="attr">"caption"</span>: <span class="string">"SublimeREPL:Python"</span>, </span><span class="line">                      <span class="attr">"command"</span>: <span class="string">"run_existing_window_command"</span>, <span class="attr">"args"</span>:</span><span class="line">                      &#123;</span><span class="line">                           <span class="attr">"id"</span>: <span class="string">"repl_python_run"</span>,</span><span class="line">                           <span class="attr">"file"</span>: <span class="string">"config/Python/Main.sublime-menu"</span></span><span class="line">                      &#125; </span><span class="line">    &#125;</span><span class="line">]</span></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> sublime </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpcms</title>
      <link href="/2018/04/27/phpcms/"/>
      <url>/2018/04/27/phpcms/</url>
      
        <content type="html"><![CDATA[<p>常用标签，使用记录<br><a id="more"></a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span><span class="line">12</span><span class="line">13</span><span class="line">14</span><span class="line">15</span><span class="line">16</span><span class="line">17</span><span class="line">18</span><span class="line">19</span><span class="line">20</span><span class="line">21</span><span class="line">22</span><span class="line">23</span><span class="line">24</span><span class="line">25</span><span class="line">26</span><span class="line">27</span><span class="line">28</span><span class="line">29</span><span class="line">30</span><span class="line">31</span><span class="line">32</span><span class="line">33</span><span class="line">34</span><span class="line">35</span><span class="line">36</span><span class="line">37</span><span class="line">38</span><span class="line">39</span><span class="line">40</span><span class="line">41</span><span class="line">42</span><span class="line">43</span><span class="line">44</span><span class="line">45</span><span class="line">46</span><span class="line">47</span><span class="line">48</span><span class="line">49</span><span class="line">50</span><span class="line">51</span><span class="line">52</span><span class="line">53</span><span class="line">54</span><span class="line">55</span><span class="line">56</span><span class="line">57</span><span class="line">58</span><span class="line">59</span><span class="line">60</span><span class="line">61</span><span class="line">62</span><span class="line">63</span><span class="line">64</span><span class="line">65</span><span class="line">66</span><span class="line">67</span><span class="line">68</span><span class="line">69</span><span class="line">70</span><span class="line">71</span><span class="line">72</span><span class="line">73</span><span class="line">74</span><span class="line">75</span><span class="line">76</span><span class="line">77</span></pre></td><td class="code"><pre><span class="line">// 调用一个栏目链接</span><span class="line">&#123;$CATEGORYS[1][url]&#125;</span><span class="line"></span><span class="line">// 三级栏目</span><span class="line">&#123;pc:content action="category" catid="0" num="25" siteid="$siteid" order="listorder ASC"&#125;</span><span class="line">&#123;loop $data $c&#125;</span><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"&#123;if $parentid == $c['catid'] || $catid == $c['catid']&#125;active&#123;/if&#125;"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;$c[url]&#125;"</span>&gt;</span>&#123;$c[catname]&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="line">    &#123;if $c[child]&#125;</span><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><span class="line">        &#123;loop subcat($c['catid']) $c2&#125;</span><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span> &#123;$c2['catname']&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><span class="line">            &#123;loop subcat($c2['catid']) $c3&#125;</span><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;$c3['url']&#125;"</span>&gt;</span>&#123;$c3['catname']&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><span class="line">            &#123;/loop&#125;</span><span class="line">        &#123;/loop&#125;</span><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><span class="line">    &#123;/if&#125;</span><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><span class="line">&#123;/loop&#125;</span><span class="line">&#123;/pc&#125;</span><span class="line"></span><span class="line">// 文章列表 ，content字段在&#123;pc&#125;加  moreinfo="1"</span><span class="line">&#123;pc:content action="lists" catid="$catid" num="10" order="id DESC" page="$page"&#125;   </span><span class="line">&#123;loop $data $r&#125;</span><span class="line">    &#123;$r[url]&#125;</span><span class="line">    &#123;$r[thumb]&#125;</span><span class="line">    &#123;$r[title]&#125;</span><span class="line">    &#123;str_cut($r[description],200)&#125;</span><span class="line">    &#123;date('Y-m-d H:i:s',$r[inputtime])&#125;</span><span class="line">&#123;/loop&#125;</span><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;$pages&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><span class="line">&#123;/pc&#125;</span><span class="line"></span><span class="line">// 面包屑导航</span><span class="line">&#123;catpos($catid,' » ')&#125;</span><span class="line"></span><span class="line">// 调用父栏目列表</span><span class="line">1.</span><span class="line">&#123;loop subcat($catid) $v&#125;</span><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;$v[catname]&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><span class="line">&#123;/loop&#125;</span><span class="line">2.</span><span class="line">&#123;pc:content action="category" catid="$CATEGORYS[$parentid][parentid]" num="25" siteid="$siteid" order="listorder ASC"&#125;</span><span class="line">&#123;loop $data $c&#125;</span><span class="line">&#123;/loop&#125;</span><span class="line">&#123;/pc&#125;</span><span class="line"></span><span class="line">// 调用header</span><span class="line">&#123;template "content","header"&#125;</span><span class="line">&#123;template "content","footer"&#125;</span><span class="line"></span><span class="line">// title keywords description</span><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>&#123;if isset($SEO['title']) &amp;&amp; !empty($SEO['title'])&#125;&#123;$SEO['title']&#125;&#123;/if&#125;&#123;$SEO['site_title']&#125;<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"keywords"</span> <span class="attr">content</span>=<span class="string">"&#123;$SEO['keyword']&#125;"</span>&gt;</span></span><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"&#123;$SEO['description']&#125;"</span>&gt;</span></span><span class="line"></span><span class="line">// js_path css_path img_path</span><span class="line">&#123;JS_PATH&#125;</span><span class="line">&#123;CSS_PATH&#125;</span><span class="line">&#123;IMG_PATH&#125;</span><span class="line"></span><span class="line">// 上一篇下一篇</span><span class="line"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>上一篇：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;$previous_page[url]&#125;"</span>&gt;</span>&#123;$previous_page[title]&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><span class="line"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>下一篇：<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;$next_page[url]&#125;"</span>&gt;</span>&#123;$next_page[title]&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="line"></span><span class="line">// 表单</span><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">action</span>=<span class="string">"?m=formguide&amp;c=index&amp;a=show&amp;formid=&#123;$formid&#125;&amp;siteid=&lt;?php echo $this-&gt;siteid;?&gt;"</span> <span class="attr">name</span>=<span class="string">"myform"</span> <span class="attr">id</span>=<span class="string">"myform"</span>&gt;</span></span><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"info['uname']"</span> &gt;</span></span><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">name</span>=<span class="string">"dosubmit"</span> <span class="attr">id</span>=<span class="string">"dosubmit"</span> <span class="attr">value</span>=<span class="string">" 提交 "</span>&gt;</span></span><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><span class="line"></span><span class="line">// SQL标签</span><span class="line">&#123;pc:get sql="SELECT COUNT(*) AS count,title,updatetime FROM li_news WHERE catid=$catid"&#125;</span><span class="line">&#123;loop $data $k $v&#125;</span><span class="line">    &#123;$v[count]&#125;</span><span class="line">&#123;/loop&#125;</span><span class="line">&#123;/pc&#125;</span></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> php </tag>
            
            <tag> phpcms </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>搭建lnmp</title>
      <link href="/2017/09/20/bulid_lnmp/"/>
      <url>/2017/09/20/bulid_lnmp/</url>
      
        <content type="html"><![CDATA[<p>lnmp<br><a id="more"></a></p><h3 id="搭建nginx静态服务器"><a href="#搭建nginx静态服务器" class="headerlink" title="搭建nginx静态服务器"></a>搭建nginx静态服务器</h3><p>使用 yum 安装 Nginx：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">yum install nginx -y</span></pre></td></tr></table></figure></p><p>修改 /etc/nginx/conf.d/default.conf，去除对 IPv6 地址的监听<br>，可参考下面的代码示例：</p><blockquote><p>CentOS 6 不支持 IPv6，需要取消对 IPv6 地址的监听，否则 Nginx 不能成功启动</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span><span class="line">12</span><span class="line">13</span><span class="line">14</span><span class="line">15</span><span class="line">16</span><span class="line">17</span><span class="line">18</span><span class="line">19</span><span class="line">20</span><span class="line">21</span></pre></td><td class="code"><pre><span class="line">server &#123;</span><span class="line">    listen       80 default_server;</span><span class="line">    <span class="comment"># listen       [::]:80 default_server;</span></span><span class="line">    server_name  _;</span><span class="line">    root         /usr/share/nginx/html;</span><span class="line"></span><span class="line">    <span class="comment"># Load configuration files for the default server block.</span></span><span class="line">    include /etc/nginx/default.d/*.conf;</span><span class="line"></span><span class="line">    location / &#123;</span><span class="line">    &#125;</span><span class="line"></span><span class="line">    error_page 404 /404.html;</span><span class="line">        location = /40x.html &#123;</span><span class="line">    &#125;</span><span class="line"></span><span class="line">    error_page 500 502 503 504 /50x.html;</span><span class="line">        location = /50x.html &#123;</span><span class="line">    &#125;</span><span class="line"></span><span class="line">&#125;</span></pre></td></tr></table></figure><p>修改完成后，启动 Nginx：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">nginx</span></pre></td></tr></table></figure></p><p>将 Nginx 设置为开机自动启动：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">chkconfig nginx on</span></pre></td></tr></table></figure><h3 id="安装-MySQL-数据库服务"><a href="#安装-MySQL-数据库服务" class="headerlink" title="安装 MySQL 数据库服务"></a>安装 MySQL 数据库服务</h3><blockquote><p>CentOS7带有MariaDB而不是MySQL，MariaDB和MySQL一样也是开元的数据库，您可以使用yum -y install mariadb-server mariadb命令安装</p></blockquote><p>使用 yum 安装 MySQL：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">yum install mysql-server -y</span></pre></td></tr></table></figure></p><p>安装完成后，启动 MySQL 服务：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">service mysqld restart</span></pre></td></tr></table></figure></p><p>设置 MySQL 账户 root 密码：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">/usr/bin/mysqladmin -u root password <span class="string">'tMiOskMW'</span></span></pre></td></tr></table></figure></p><p>将 MySQL 设置为开机自动启动：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">chkconfig mysqld on</span></pre></td></tr></table></figure></p><h3 id="搭建-PHP-环境"><a href="#搭建-PHP-环境" class="headerlink" title="搭建 PHP 环境"></a>搭建 PHP 环境</h3><p>使用 yum 安装 PHP：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">yum install php php-fpm php-mysql -y</span></pre></td></tr></table></figure></p><p>安装之后，启动 PHP-FPM 进程：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">service php-fpm start</span></pre></td></tr></table></figure></p><p>启动之后，可以使用下面的命令查看 PHP-FPM 进程监听哪个端口</p><blockquote><p>PHP-FPM 默认监听 9000 端口</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">netstat -nlpt | grep php-fpm</span></pre></td></tr></table></figure><p>把 PHP-FPM 也设置成开机自动启动：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">chkconfig php-fpm on</span></pre></td></tr></table></figure></p><h3 id="配置-Nginx-并运行-PHP-程序"><a href="#配置-Nginx-并运行-PHP-程序" class="headerlink" title="配置 Nginx 并运行 PHP 程序"></a>配置 Nginx 并运行 PHP 程序</h3><p>在 /etc/nginx/conf.d 目录中新建一个名为 php.conf 的文件，并配置 Nginx 端口 ，配置示例如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span></pre></td><td class="code"><pre><span class="line">server &#123;</span><span class="line">    listen 8000;</span><span class="line">    <span class="comment"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span></span><span class="line">    location ~ .php$ &#123;</span><span class="line">        root           /usr/share/php;</span><span class="line">        fastcgi_pass   127.0.0.1:9000;</span><span class="line">        fastcgi_index  index.php;</span><span class="line">        fastcgi_param  SCRIPT_FILENAME  <span class="variable">$document_root</span><span class="variable">$fastcgi_script_name</span>;</span><span class="line">        include        fastcgi_params;</span><span class="line">    &#125;</span><span class="line">&#125;</span></pre></td></tr></table></figure></p><p>修改配置完成后，重启 nginx 服务<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">service nginx restart</span></pre></td></tr></table></figure></p><p>这时候，我们就可以在/usr/share/php 目录下新建一个 info.php 文件来检查 php 是否安装成功了</p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>markdown语法</title>
      <link href="/2017/09/19/markdown/"/>
      <url>/2017/09/19/markdown/</url>
      
        <content type="html"><![CDATA[<p>Welcome to MarkdownPad 2<br><a id="more"></a><br><strong>MarkdownPad</strong> is a full-featured Markdown editor for Windows.</p><h3 id="Built-exclusively-for-Markdown"><a href="#Built-exclusively-for-Markdown" class="headerlink" title="Built exclusively for Markdown"></a>Built exclusively for Markdown</h3><p>Enjoy first-class Markdown support with easy access to  Markdown syntax and convenient keyboard shortcuts.</p><p>Give them a try:</p><ul><li><strong>Bold</strong> (<code>Ctrl+B</code>) and <em>Italic</em> (<code>Ctrl+I</code>)</li><li>Quotes (<code>Ctrl+Q</code>)</li><li>Code blocks (<code>Ctrl+K</code>)</li><li>Headings 1, 2, 3 (<code>Ctrl+1</code>, <code>Ctrl+2</code>, <code>Ctrl+3</code>)</li><li>Lists (<code>Ctrl+U</code> and <code>Ctrl+Shift+O</code>)</li></ul><h3 id="See-your-changes-instantly-with-LivePreview"><a href="#See-your-changes-instantly-with-LivePreview" class="headerlink" title="See your changes instantly with LivePreview"></a>See your changes instantly with LivePreview</h3><p>Don’t guess if your <a href="http://markdownpad.com" target="_blank" rel="external">hyperlink syntax</a> is correct; LivePreview will show you exactly what your document looks like every time you press a key.</p><h3 id="Make-it-your-own"><a href="#Make-it-your-own" class="headerlink" title="Make it your own"></a>Make it your own</h3><p>Fonts, color schemes, layouts and stylesheets are all 100% customizable so you can turn MarkdownPad into your perfect editor.</p><h3 id="A-robust-editor-for-advanced-Markdown-users"><a href="#A-robust-editor-for-advanced-Markdown-users" class="headerlink" title="A robust editor for advanced Markdown users"></a>A robust editor for advanced Markdown users</h3><p>MarkdownPad supports multiple Markdown processing engines, including standard Markdown, Markdown Extra (with Table support) and GitHub Flavored Markdown.</p><p>With a tabbed document interface, PDF export, a built-in image uploader, session management, spell check, auto-save, syntax highlighting and a built-in CSS management interface, there’s no limit to what you can do with MarkdownPad.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span><span class="line">12</span><span class="line">13</span><span class="line">14</span><span class="line">15</span><span class="line">16</span><span class="line">17</span><span class="line">18</span><span class="line">19</span><span class="line">20</span><span class="line">21</span><span class="line">22</span><span class="line">23</span><span class="line">24</span><span class="line">25</span><span class="line">26</span><span class="line">27</span><span class="line">28</span><span class="line">29</span></pre></td><td class="code"><pre><span class="line"><span class="comment">## Welcome to MarkdownPad 2 ##</span></span><span class="line"></span><span class="line">**MarkdownPad** is a full-featured Markdown editor <span class="keyword">for</span> Windows.</span><span class="line"></span><span class="line"><span class="comment">### Built exclusively for Markdown ###</span></span><span class="line"></span><span class="line">Enjoy first-class Markdown support with easy access to  Markdown syntax and convenient keyboard shortcuts.</span><span class="line"></span><span class="line">Give them a try:</span><span class="line"></span><span class="line">- **Bold** (`Ctrl+B`) and *Italic* (`Ctrl+I`)</span><span class="line">- Quotes (`Ctrl+Q`)</span><span class="line">- Code blocks (`Ctrl+K`)</span><span class="line">- Headings 1, 2, 3 (`Ctrl+1`, `Ctrl+2`, `Ctrl+3`)</span><span class="line">- Lists (`Ctrl+U` and `Ctrl+Shift+O`)</span><span class="line"></span><span class="line"><span class="comment">### See your changes instantly with LivePreview ###</span></span><span class="line"></span><span class="line">Don<span class="string">'t guess if your [hyperlink syntax](http://markdownpad.com) is correct; LivePreview will show you exactly what your document looks like every time you press a key.</span></span><span class="line"><span class="string"></span></span><span class="line"><span class="string">### Make it your own ###</span></span><span class="line"><span class="string"></span></span><span class="line"><span class="string">Fonts, color schemes, layouts and stylesheets are all 100% customizable so you can turn MarkdownPad into your perfect editor.</span></span><span class="line"><span class="string"></span></span><span class="line"><span class="string">### A robust editor for advanced Markdown users ###</span></span><span class="line"><span class="string"></span></span><span class="line"><span class="string">MarkdownPad supports multiple Markdown processing engines, including standard Markdown, Markdown Extra (with Table support) and GitHub Flavored Markdown.</span></span><span class="line"><span class="string"></span></span><span class="line"><span class="string">With a tabbed document interface, PDF export, a built-in image uploader, session management, spell check, auto-save, syntax highlighting and a built-in CSS management interface, there'</span>s no <span class="built_in">limit</span> to what you can <span class="keyword">do</span> with MarkdownPad.</span></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>dedecms</title>
      <link href="/2017/08/08/dedecms/"/>
      <url>/2017/08/08/dedecms/</url>
      
        <content type="html"><![CDATA[<p>常用标签，使用记录<br><a id="more"></a></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span><span class="line">12</span><span class="line">13</span><span class="line">14</span><span class="line">15</span><span class="line">16</span><span class="line">17</span><span class="line">18</span><span class="line">19</span><span class="line">20</span><span class="line">21</span><span class="line">22</span><span class="line">23</span><span class="line">24</span><span class="line">25</span><span class="line">26</span><span class="line">27</span><span class="line">28</span><span class="line">29</span><span class="line">30</span><span class="line">31</span><span class="line">32</span><span class="line">33</span><span class="line">34</span><span class="line">35</span><span class="line">36</span><span class="line">37</span><span class="line">38</span><span class="line">39</span><span class="line">40</span><span class="line">41</span><span class="line">42</span><span class="line">43</span><span class="line">44</span><span class="line">45</span><span class="line">46</span><span class="line">47</span><span class="line">48</span><span class="line">49</span><span class="line">50</span><span class="line">51</span><span class="line">52</span><span class="line">53</span><span class="line">54</span><span class="line">55</span><span class="line">56</span><span class="line">57</span><span class="line">58</span><span class="line">59</span><span class="line">60</span><span class="line">61</span><span class="line">62</span><span class="line">63</span><span class="line">64</span><span class="line">65</span><span class="line">66</span><span class="line">67</span><span class="line">68</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// 站点更目录</span></span><span class="line">&#123;dede:global.cfg_basehost/&#125;</span><span class="line"></span><span class="line"><span class="comment">// 模板目录</span></span><span class="line">&#123;dede:global.cfg_templets_skin/&#125;</span><span class="line"></span><span class="line"><span class="comment">// 模板引入文件</span></span><span class="line">&#123;dede:include filename=<span class="string">"head.htm"</span>/&#125;</span><span class="line"></span><span class="line"><span class="comment">// 和文章有关的表</span></span><span class="line">dede_addonarticle</span><span class="line">dede_arctiny</span><span class="line">dede_archives</span><span class="line"></span><span class="line"><span class="comment">// dedecms自定义标签，在/include/taglib/demotag.lib.php，有个演示标签</span></span><span class="line"></span><span class="line"><span class="comment">// 循环二级栏目</span></span><span class="line">&#123;dede:channelartlist typeid='top' noself='yes'&#125;</span><span class="line">  &lt;li id="menu-&#123;dede:field name='id'/&#125;"&gt;&lt;a htef="&#123;dede:field name='typeurl'/&#125;"&gt;&lt;span&gt;&#123;dede:field name='typename'/&#125;&lt;/span&gt;&lt;/a&gt;</span><span class="line">    &lt;ul&gt;</span><span class="line">      &#123;dede:channel type='son' noself='yes'&#125;</span><span class="line">        &lt;li id='menu-[field:id/]'&gt;&lt;a href='[field:typelink/]'&gt;&lt;span&gt;[field:typename/]&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span><span class="line">      &#123;/dede:channel&#125;</span><span class="line">    &lt;/ul&gt;</span><span class="line">  &lt;/li&gt;</span><span class="line">&#123;/dede:channelartlist&#125;</span><span class="line"></span><span class="line"><span class="comment">// if 标签</span></span><span class="line">&#123;dede:field name=id runphp='yes'&#125;if(@me==44)&#123;@me='current-menu-parent';&#125;else&#123;@me='';&#125;&#123;/dede:field&#125;</span><span class="line"></span><span class="line"><span class="comment">// 当前位置</span></span><span class="line">&#123;dede:field name='position'/&#125;</span><span class="line"></span><span class="line"><span class="comment">// 文章发表日期</span></span><span class="line">&#123;dede:field.pubdate function=<span class="string">"MyDate('Y-m-d H:i',@me)"</span>&#125;</span><span class="line"></span><span class="line"><span class="comment">// 循环外部链接栏目</span></span><span class="line"><span class="number">5.7</span>可以找include/taglib/channelartlist.lib.php第<span class="number">67</span>行左右</span><span class="line">$tpsql = <span class="string">" reid=0 AND ispart&lt;&gt;2 AND ishidden&lt;&gt;1 AND channeltype&gt;0 "</span>;</span><span class="line">改成</span><span class="line">$tpsql = <span class="string">" reid=0 AND ishidden&lt;&gt;1 AND channeltype&gt;0 "</span>;</span><span class="line"></span><span class="line"><span class="comment">// 系统-系统基本参数-其它选项，默认 模板引擎禁用标签 禁用 php标签</span></span><span class="line"></span><span class="line"><span class="comment">// 去掉验证码认证</span></span><span class="line">/data/safe/inc_safe_config.php 里 $safe_gdopen = '1,2,3,4,5,7';  //1 注册会员 2前台登陆 6后台登陆 有就要验证</span><span class="line"></span><span class="line"><span class="comment">// 后台变量表</span></span><span class="line">dede_sysconfig</span><span class="line"></span><span class="line"><span class="comment">//调用某栏目链接</span></span><span class="line">&#123;dede:type typeid='35'&#125;[field:typeurl/]&#123;/dede:type&#125;</span><span class="line"></span><span class="line"><span class="comment">//文章列表</span></span><span class="line">&#123;dede:arclist typeid='23' titlelen='60' row='10'&#125;</span><span class="line">&lt;a href=<span class="string">"[field:arcurl/]"</span>&gt;[field:image/]&lt;/a&gt;</span><span class="line">&#123;/dede:arclist&#125;</span><span class="line"></span><span class="line"><span class="comment">//分页</span></span><span class="line">&#123;dede:pagelist listitem=<span class="string">"info,index,end,pre,next,pageno,option"</span> listsize=<span class="string">"5"</span>/&#125;</span><span class="line"></span><span class="line"><span class="comment">//首页调用其他栏目</span></span><span class="line">&#123;dede:arclist channelid='17' addfields='forex,silver,gold,oil' &#125;</span><span class="line">&lt;li&gt;</span><span class="line">&lt;div&gt;&lt;a href=<span class="string">"[field:arcurl/]"</span>&gt;[field:image/]&lt;/a&gt;&lt;/div&gt;</span><span class="line">&lt;a href=<span class="string">"[field:arcurl/]"</span>&gt;外汇[field:forex/]$ 白银[field:silver/]$&lt;br/&gt;</span><span class="line">黄金[field:gold/]$ 原油[field:oil/]$&lt;/a&gt; &lt;/li&gt;</span><span class="line">&#123;/dede:arclist&#125;</span></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> dedecms </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>XHProf windows 安装</title>
      <link href="/2017/03/11/xhprof/"/>
      <url>/2017/03/11/xhprof/</url>
      
        <content type="html"><![CDATA[<p>XHProf 是一个分层PHP性能分析工具，可以看到php程序各个函数的执行次数和执行时间等数据，帮助优化php程序。<br><a id="more"></a></p><h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p>XHProf 扩展、<a href="http://pecl.php.net/package/xhprof" target="_blank" rel="external">XHProf 调试输出页面</a>、<a href="http://www.graphviz.org/Download_windows.php" target="_blank" rel="external">Graphviz(非必须)</a></p><h3 id="XHProf-扩展放到-php的ext目录-下面"><a href="#XHProf-扩展放到-php的ext目录-下面" class="headerlink" title="XHProf 扩展放到 php的ext目录 下面"></a>XHProf 扩展放到 php的ext目录 下面</h3><h3 id="XHProf-调试输出页面放到-服务器根目录"><a href="#XHProf-调试输出页面放到-服务器根目录" class="headerlink" title="XHProf 调试输出页面放到 服务器根目录"></a>XHProf 调试输出页面放到 服务器根目录</h3><h3 id="配置-php-ini-，然后重启Apache"><a href="#配置-php-ini-，然后重启Apache" class="headerlink" title="配置 php.ini ，然后重启Apache"></a>配置 php.ini ，然后重启Apache</h3><p>在文件末尾加</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span></pre></td><td class="code"><pre><span class="line">[xhprof]</span><span class="line">extension=php_xhprof.dll</span><span class="line">xhprof.output_dir=<span class="string">"E:\phpStudy\WWW\xhprof\xhprof_log"</span>//日志输出目录</span></pre></td></tr></table></figure><h2 id="安装-Graphviz"><a href="#安装-Graphviz" class="headerlink" title="安装 Graphviz"></a>安装 Graphviz</h2><p>目录不要带中文或者中文字符</p><h2 id="调试代码"><a href="#调试代码" class="headerlink" title="调试代码"></a>调试代码</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span><span class="line">12</span><span class="line">13</span></pre></td><td class="code"><pre><span class="line">xhprof_enable();</span><span class="line"><span class="comment">//xhprof_enable(XHPROF_FLAGS_CPU+XHPROF_FLAGS_MEMORY);</span></span><span class="line"><span class="comment">//加上这个参数可以使得xhprof显示cpu和内存相关的数据。</span></span><span class="line"></span><span class="line">...<span class="comment">//很多代码</span></span><span class="line"></span><span class="line">$data = xhprof_disable();</span><span class="line"><span class="keyword">include_once</span> <span class="string">"E:\phpStudy\WWW\xhprof\xhprof-0.9.4\xhprof_lib\utils\xhprof_lib.php"</span>;</span><span class="line"><span class="keyword">include_once</span> <span class="string">"E:\phpStudy\WWW\xhprof\xhprof-0.9.4\xhprof_lib\utils\xhprof_runs.php"</span>;</span><span class="line">$objXhprofRun = <span class="keyword">new</span> XHProfRuns_Default();</span><span class="line">$run_id = $objXhprofRun-&gt;save_run($data, <span class="string">"xhprof"</span>);</span><span class="line">var_dump($run_id);    <span class="comment">//输出日志的id</span></span><span class="line"><span class="comment">//访问 http://localhost/xhprof/xhprof-0.9.4/xhprof_html/</span></span></pre></td></tr></table></figure><h2 id="错误解决"><a href="#错误解决" class="headerlink" title="错误解决"></a>错误解决</h2><p>在view full callgraph，查看图表分析的时候，出现错误</p><blockquote><p>failed to execute cmd: “dot -Tpng”. stderr: `’dot’ 不是内部或外部命令，也不是可运行的程序 或批处理文件。</p></blockquote><p>在xhprof调试输出目录，找到 xhprof_generate_image_by_dot 函数</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span></pre></td><td class="code"><pre><span class="line">$descriptorspec = <span class="keyword">array</span>(</span><span class="line">       <span class="comment">// stdin is a pipe that the child will read from</span></span><span class="line">       <span class="number">0</span> =&gt; <span class="keyword">array</span>(<span class="string">"pipe"</span>, <span class="string">"r"</span>),</span><span class="line">       <span class="comment">// stdout is a pipe that the child will write to</span></span><span class="line">       <span class="number">1</span> =&gt; <span class="keyword">array</span>(<span class="string">"pipe"</span>, <span class="string">"w"</span>),</span><span class="line">       <span class="comment">// stderr is a pipe that the child will write to</span></span><span class="line">       <span class="number">2</span> =&gt; <span class="keyword">array</span>(<span class="string">"pipe"</span>, <span class="string">"w"</span>)</span><span class="line">);</span><span class="line">$cmd = <span class="string">"dot -T"</span>.$type;</span><span class="line">$process = proc_open($cmd, $descriptorspec, $pipes, <span class="string">"/tmp"</span>, <span class="keyword">array</span>());</span></pre></td></tr></table></figure><p>$cmd = “dot -T”.$type; 这里加入Graphviz的bin路径 改成 $cmd = “D:/Graphviz2.38/bin/dot -T”.$type;</p>]]></content>
      
      
      
        <tags>
            
            <tag> tool </tag>
            
            <tag> windows </tag>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows使用ApacheBench（ab）做网站压力测试</title>
      <link href="/2017/02/28/ab/"/>
      <url>/2017/02/28/ab/</url>
      
        <content type="html"><![CDATA[<p>Apache Bench是著名Web服务器软件apache附带的一个小工具，它可以同时模拟多个并发请求，测试apache等Web服务器的最大承载压力，同时也可以根据Apache Bench提供的测试结果对服务器性能参数进行调整。<br><a id="more"></a></p><h2 id="在Windows系统的命令行下，cd到-Apache-bin-目录下"><a href="#在Windows系统的命令行下，cd到-Apache-bin-目录下" class="headerlink" title="在Windows系统的命令行下，cd到 Apache/bin 目录下"></a>在Windows系统的命令行下，cd到 Apache/bin 目录下</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">E:\phpStudy\Apache\bin&gt;ab -n 1000 -c 100 http://192.168.0.188/</span></pre></td></tr></table></figure><h3 id="必须在后方加上“-”，或指定相应文件。"><a href="#必须在后方加上“-”，或指定相应文件。" class="headerlink" title="必须在后方加上“/”，或指定相应文件。"></a>必须在后方加上“/”，或指定相应文件。</h3><p>-n后面的1000代表总共发出1000个请求；-c后面的100表示采用100个并发（模拟100个人同时访问），后面的网址表示测试的目标URL。</p><h2 id="测试结果"><a href="#测试结果" class="headerlink" title="测试结果"></a>测试结果</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><span class="line">2</span><span class="line">3</span><span class="line">4</span><span class="line">5</span><span class="line">6</span><span class="line">7</span><span class="line">8</span><span class="line">9</span><span class="line">10</span><span class="line">11</span><span class="line">12</span><span class="line">13</span><span class="line">14</span><span class="line">15</span><span class="line">16</span><span class="line">17</span><span class="line">18</span><span class="line">19</span><span class="line">20</span><span class="line">21</span><span class="line">22</span><span class="line">23</span><span class="line">24</span><span class="line">25</span><span class="line">26</span><span class="line">27</span><span class="line">28</span><span class="line">29</span><span class="line">30</span><span class="line">31</span><span class="line">32</span><span class="line">33</span><span class="line">34</span><span class="line">35</span><span class="line">36</span><span class="line">37</span><span class="line">38</span><span class="line">39</span><span class="line">40</span><span class="line">41</span><span class="line">42</span><span class="line">43</span><span class="line">44</span><span class="line">45</span><span class="line">46</span><span class="line">47</span><span class="line">48</span><span class="line">49</span><span class="line">50</span><span class="line">51</span><span class="line">52</span><span class="line">53</span><span class="line">54</span><span class="line">55</span></pre></td><td class="code"><pre><span class="line">This is ApacheBench, Version 2.3 &lt;<span class="variable">$Revision</span>: 1604373 $&gt;</span><span class="line">Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/</span><span class="line">Licensed to The Apache Software Foundation, http://www.apache.org/</span><span class="line">Benchmarking 192.168.0.188 (be patient)</span><span class="line">Completed 100 requests</span><span class="line">Completed 200 requests</span><span class="line">Completed 300 requests</span><span class="line">Completed 400 requests</span><span class="line">Completed 500 requests</span><span class="line">Completed 600 requests</span><span class="line">Completed 700 requests</span><span class="line">Completed 800 requests</span><span class="line">Completed 900 requests</span><span class="line">Completed 1000 requests</span><span class="line">Finished 1000 requests</span><span class="line">Server Software:        nginx/1.6.3</span><span class="line"><span class="comment">#测试的服务器版本</span></span><span class="line">Server Hostname:        192.168.0.188</span><span class="line">Server Port:            80</span><span class="line">Document Path:          /</span><span class="line">Document Length:        169004 bytes</span><span class="line">Concurrency Level:      100</span><span class="line">Time taken <span class="keyword">for</span> tests:   15.170 seconds</span><span class="line">Complete requests:      1000</span><span class="line"><span class="comment">#完成的请求数量</span></span><span class="line">Failed requests:        3</span><span class="line"><span class="comment">#失败的请求数量</span></span><span class="line">   (Connect: 0, Receive: 0, Length: 3, Exceptions: 0)</span><span class="line">Non-2xx responses:      3</span><span class="line">Total transferred:      168791239 bytes</span><span class="line">HTML transferred:       168498599 bytes</span><span class="line">Requests per second:    65.92 [<span class="comment">#/sec] (mean)</span></span><span class="line"><span class="comment">#重要的指标之一，相当于LR中的每秒事务数，后面括号中的mean表示这是一个平均值</span></span><span class="line">Time per request:       1516.954 [ms] (mean)</span><span class="line"><span class="comment">#重要的指标之二，相当于LR中的平均事务响应时间，后面括号中的mean表示这是一个平均值</span></span><span class="line">Time per request:       15.170 [ms] (mean, across all concurrent requests)</span><span class="line"><span class="comment">#每个连接请求实际运行时间的平均值</span></span><span class="line">Transfer rate:          10866.19 [Kbytes/sec] received</span><span class="line"><span class="comment">#平均每秒网络上的流量，可以帮助排除是否存在网络流量过大导致响应时间延长的问题</span></span><span class="line">Connection Times (ms)</span><span class="line">              min  mean[+/-sd] median   max</span><span class="line">Connect:        0   10   8.8     16      36</span><span class="line">Processing:    78 1478 494.6   1516    2283</span><span class="line">Waiting:       47  779 543.9    628    2079</span><span class="line">Total:         78 1489 495.4   1524    2283</span><span class="line">Percentage of the requests served within a certain time (ms)</span><span class="line">  50%   1524</span><span class="line">  66%   1799</span><span class="line">  75%   1957</span><span class="line">  80%   2006</span><span class="line">  90%   2085</span><span class="line">  95%   2127</span><span class="line">  98%   2161</span><span class="line">  99%   2205</span><span class="line"> 100%   2283 (longest request)</span></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> tool </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2017/02/01/hello-world/"/>
      <url>/2017/02/01/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.<br><a id="more"></a></p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$ hexo server</span></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$ hexo generate</span></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
